<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dars — Soddalashtirilgan</title>
  <style>
    /* Typography: Inter (Bold headings, Regular body) */
    @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");

    :root{
      --primary:#13176C;        /* brand accent */
      --bg:#f7f7f9;             /* app background */
      --surface:#ffffff;         /* panels */
      --text:#1f2937;           /* main text */
      --muted:#6b7280;          /* secondary */
      --border:#e5e7eb;         /* subtle borders */
      --shadow:0 1px 2px rgba(0,0,0,.04);
      --radius:16px;
      --sidebar:320px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:"Inter",ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif;
      line-height:1.65; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    h1,h2{letter-spacing:-.01em}
    h1{font-weight:700}
    h2{font-weight:700; font-size:1.45rem; margin:0}
    p{margin:0 0 14px 0}
    a{color:inherit; text-decoration:none}

    /* Layout */
    .app{display:grid; grid-template-columns: var(--sidebar) 1fr; min-height:100dvh; transition:grid-template-columns .22s ease}
    .sidebar{position:sticky; top:0; height:100dvh; overflow:auto; background:var(--surface); border-right:1px solid var(--border); transition:transform .22s ease}
    .main{min-width:0; background:var(--surface)}

    /* MENU CLOSE/OPEN (outside toggle controls this) */
    body.menu-closed .app{grid-template-columns: 0 1fr}
    body.menu-closed .sidebar{transform:translateX(-100%)}

    /* Global (outside) toggle */
    .global-toggle{
      position:fixed; top:12px; left:12px; z-index:1000;
      appearance:none; border:1px solid var(--border); background:#fff;
      padding:8px 10px; border-radius:10px; cursor:pointer; box-shadow:var(--shadow);
      display:inline-grid; place-items:center;
    }
    .global-toggle svg{width:18px; height:18px}

    /* Sidebar simple list */
    .s-back{padding:12px 16px; border-bottom:1px solid var(--border); background:#fff}
    .link-btn{display:inline-flex; align-items:center; gap:8px; border:1px solid var(--border); padding:8px 12px; border-radius:10px; background:#fff; font-weight:600}
    .s-head{padding:12px 16px; border-bottom:1px solid var(--border)}
    .s-title{margin:0; font-weight:700; font-size:0.98rem; color:#374151}

    .menu{padding:10px}
    .mi{
      display:grid; grid-template-columns:18px 1fr 14px; gap:10px; align-items:center;
      padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:#fff; margin-bottom:8px;
      min-height:38px;
    }
    .mi .ico{display:grid; place-items:center; width:18px; height:18px; color:var(--muted)}
    .mi .title{font-weight:500; font-size:0.95rem; line-height:1}
    .mi .dot{width:12px; height:12px; border-radius:50%; border:2px solid var(--border); background:#fff}
    .mi.active{border-left:4px solid var(--primary); padding-left:8px; background:#f5f7ff}
    .mi.active .ico{color:var(--primary)}
    .mi.active .dot{border-color:var(--primary)}
    .mi.done .dot{background:var(--primary); border-color:var(--primary)}
    .s-foot{padding:10px 16px; border-top:1px solid var(--border); color:var(--muted); font-size:.92rem}

    /* Separator line + space above lesson (with left-aligned back link) */
    .returnline{border-top:1px solid var(--border); background:transparent}
    .returnline .inner{max-width:1100px; margin:0 auto; padding:12px 18px}

    /* Top region in main column */
    .top{padding:18px 28px 6px 28px; border-bottom:1px solid var(--border); background:var(--surface);}
    .crumb{color:var(--muted); font-size:.95rem; margin:0 0 10px 0}
    .title{font-size:clamp(24px,3vw,36px); margin:0 0 10px 0; font-weight:700}
    .accent{height:4px; width:120px; background:var(--primary); border-radius:999px; margin:16px 0 0}

    /* Content blocks */
    .section{padding:24px 28px; border-top:1px solid var(--border)}
    .section h2{margin-bottom:10px}
    .section p{max-width:70ch}
    .lead{color:var(--muted)}

    /* Bottom nav */
    .bottom{position:sticky; bottom:0; background:rgba(255,255,255,.98); border-top:1px solid var(--border); display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 18px}
    .btn{display:inline-flex; align-items:center; gap:8px; border:1px solid var(--border); padding:10px 14px; border-radius:999px; background:#fff; color:var(--text); font-weight:600}
    .btn.primary{border-color:var(--primary); background:var(--primary); color:#fff}

    /* Minimal responsiveness */
    @media (max-width: 960px){
      .app{grid-template-columns:1fr}
      .sidebar{position:fixed; left:0; top:0; width:var(--sidebar); height:100dvh; z-index:10}
      body.menu-closed .app{grid-template-columns:1fr}
      .returnline .inner{padding:12px 14px}
      .top{padding:16px 18px 4px}
      .section{padding:20px 18px}
    }
  </style>
</head>
<body>

  <!-- Always-visible (outside) menu toggle -->
  <button class="global-toggle" id="globalToggle" aria-label="Menyuni ochish/yopish" aria-expanded="true">
    <!-- panel icon initially (menu open) -->
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="4" width="18" height="16" rx="2"></rect><path d="M9 4v16"></path>
    </svg>
  </button>

  <div class="app">
    <!-- LEFT: sidebar -->
    <aside class="sidebar" aria-label="Dars menyusi" id="sidebar">
      <!-- Back button ABOVE the menu -->
      <div class="s-back">
        <a class="link-btn" href="https://t4uzb.weebly.com/kurs.html" aria-label="Darslarga qaytish">
          <!-- back icon -->
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
          Darslarga qaytish
        </a>
      </div>

      <div class="s-head">
        <p class="s-title">Dars bo‘limlari</p>
      </div>

      <nav class="menu" aria-label="Bo‘limlar ro‘yxati" id="menu">
        <a class="mi active" href="#s1" data-target="s1">
          <span class="ico" aria-hidden="true">
            <!-- intro icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 6h13M8 12h13M8 18h13"></path><path d="M3 6h.01M3 12h.01M3 18h.01"></path></svg>
          </span>
          <span class="title">Kirish</span>
          <span class="dot" aria-hidden="true"></span>
        </a>
        <a class="mi" href="#s2" data-target="s2">
          <span class="ico" aria-hidden="true">
            <!-- text icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16v16H4z"></path><path d="M8 8h8"></path></svg>
          </span>
          <span class="title">Asosiy g‘oyalar</span>
          <span class="dot" aria-hidden="true"></span>
        </a>
        <a class="mi" href="#s3" data-target="s3">
          <span class="ico" aria-hidden="true">
            <!-- video icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="5" width="20" height="14" rx="3"></rect><polygon points="10,9 16,12 10,15"></polygon></svg>
          </span>
          <span class="title">Ko‘rish: Qisqa video</span>
          <span class="dot" aria-hidden="true"></span>
        </a>
        <a class="mi" href="#s4" data-target="s4">
          <span class="ico" aria-hidden="true">
            <!-- quiz icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 7h6M9 11h6M9 15h6"></path><rect x="3" y="4" width="18" height="16" rx="2"></rect></svg>
          </span>
          <span class="title">Mini-test</span>
          <span class="dot" aria-hidden="true"></span>
        </a>
        <a class="mi" href="#s5" data-target="s5">
          <span class="ico" aria-hidden="true">
            <!-- resource icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M20 22H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20z"></path></svg>
          </span>
          <span class="title">Qo‘shimcha manbalar</span>
          <span class="dot" aria-hidden="true"></span>
        </a>
      </nav>

      <div class="s-foot" id="progressText">0% tugallandi</div>
    </aside>

    <!-- RIGHT: main pane -->
    <main class="main">
      <!-- Separator line + left-aligned back link above lesson -->
      <div class="returnline">
        <div class="inner">
          <a class="link-btn" href="https://t4uzb.weebly.com/kurs.html" aria-label="Darslarga qaytish">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            Darslarga qaytish
          </a>
        </div>
      </div>

      <div class="top">
        <p class="crumb">Dars 3</p>
        <h1 class="title">Baholash va fikr bildirishning mohiyati</h1>
        <div class="accent" aria-hidden="true"></div>
      </div>

      <section id="s1" class="section" aria-labelledby="h-s1">
        <h2 id="h-s1">Kirish</h2>
        <p class="lead">Onlayn ta’limda baholash faqat yakuniy imtihon emas, balki o‘quv jarayonini qo‘llab-quvvatlaydigan uzluksiz jarayondir.</p>
      </section>

      <section id="s2" class="section" aria-labelledby="h-s2">
        <h2 id="h-s2">Asosiy g‘oyalar</h2>
        <p><strong>Formatif baholash</strong> o‘quvchilarni faol ishtirok etishga undaydi va o‘sish bo‘yicha tezkor signal beradi. <strong>Summativ baholash</strong> esa natijani qayd etadi; ikkalasi bir-birini to‘ldiradi.</p>
      </section>

      <section id="s3" class="section" aria-labelledby="h-s3">
        <h2 id="h-s3">Ko‘rish: Qisqa video</h2>
        <p class="lead">Quyidagi videoni ko‘ring va qay darajada formatif yondashuv qo‘llanilganini kuzating.</p>
        <div style="margin-top:12px; border:1px solid var(--border); border-radius:12px; overflow:hidden; background:#000;">
          <iframe style="display:block; width:100%; aspect-ratio:16/9; border:0" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="Baholash video" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div>
      </section>

      <section id="s4" class="section" aria-labelledby="h-s4">
        <h2 id="h-s4">Mini-test</h2>
        <ul>
          <li>Formatif va summativ baholash o‘rtasidagi farq nima?</li>
          <li>Formatif fikr bildirishning ikki tamoyilini yozing.</li>
          <li>Onlayn darsda adolatni ta’minlash uchun nimalarga e’tibor berish kerak?</li>
        </ul>
      </section>

      <section id="s5" class="section" aria-labelledby="h-s5">
        <h2 id="h-s5">Qo‘shimcha manbalar</h2>
        <p class="lead">Tavsiya etilgan maqolalar va shablonlar:</p>
        <ul>
          <li>Rubrikalar shabloni (PDF)</li>
          <li>Formatif fikr bildirish misollari (DOCX)</li>
          <li>Baholash mezonlari bo‘yicha qo‘llanma (VEB)</li>
        </ul>
      </section>

      <div class="bottom">
        <button class="btn" id="prevBtn" type="button">← Oldingi</button>
        <button class="btn primary" id="completeBtn" type="button">✓ Tugallandi</button>
        <button class="btn" id="nextBtn" type="button">Keyingi →</button>
      </div>
    </main>
  </div>

  <script>
    (function(){
      const links=[...document.querySelectorAll('.menu .mi')];
      const sections=links.map(a=>document.getElementById(a.dataset.target));
      const progressText=document.getElementById('progressText');
      const completeBtn=document.getElementById('completeBtn');
      const prevBtn=document.getElementById('prevBtn');
      const nextBtn=document.getElementById('nextBtn');
      const globalToggle=document.getElementById('globalToggle');

      function setActive(id){ links.forEach(a=>a.classList.toggle('active', a.dataset.target===id)); }
      function updateProgress(){
        const done=links.filter(a=>a.classList.contains('done')).length;
        const total=links.length; const pct=Math.round(done/total*100);
        progressText.textContent=`${pct}% tugallandi`;
      }

      // click navigation
      links.forEach((a)=>a.addEventListener('click',e=>{
        const id=a.dataset.target; const el=document.getElementById(id);
        if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth', block:'start'}); setActive(id); updatePager(); }
      }));

      // scroll spy
      const obs=new IntersectionObserver((ents)=>{
        const hit=ents.filter(e=>e.isIntersecting).sort((a,b)=>b.intersectionRatio-a.intersectionRatio)[0];
        if(hit){ setActive(hit.target.id); updatePager(); }
      },{threshold:[0.6], rootMargin:'-80px 0px 0px 0px'});
      sections.forEach(s=>s && obs.observe(s));

      // complete toggles current item as done
      completeBtn.addEventListener('click',()=>{
        const active=links.find(a=>a.classList.contains('active'));
        if(active){ active.classList.toggle('done'); updateProgress(); }
      });

      // simple pager
      function indexActive(){ return links.findIndex(a=>a.classList.contains('active')); }
      function updatePager(){
        const i=indexActive();
        prevBtn.disabled = i<=0; nextBtn.disabled = i>=links.length-1;
      }
      prevBtn.addEventListener('click',()=>{ const i=indexActive(); if(i>0) links[i-1].click(); });
      nextBtn.addEventListener('click',()=>{ const i=indexActive(); if(i<links.length-1) links[i+1].click(); });

      updateProgress(); updatePager();

      // Outside toggle for opening/closing the menu
      function setToggleIcon(){
        const open = !document.body.classList.contains('menu-closed');
        globalToggle.setAttribute('aria-expanded', String(open));
        globalToggle.innerHTML = open
          ? `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
               <rect x="3" y="4" width="18" height="16" rx="2"></rect><path d="M9 4v16"></path>
             </svg>`
          : `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
               <line x1="3" y1="6" x2="21" y2="6"></line>
               <line x1="3" y1="12" x2="21" y2="12"></line>
               <line x1="3" y1="18" x2="21" y2="18"></line>
             </svg>`;
      }
      globalToggle.addEventListener('click',()=>{
        document.body.classList.toggle('menu-closed');
        setToggleIcon();
      });
      setToggleIcon();
    })();
  </script>
</body>
</html>
